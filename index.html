<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>撸</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <style type="text/css">
    body {
        margin: 0;
        padding: 10px;
    }

    .r-button {
        cursor: pointer;
        width: 100%;
        padding: 12px 0;
        text-align: center;
        color: #fff;
        font-size: 16px;
        background-color: #384959;
        margin: 10px 0;
        border-radius: 4px;
        outline: none;
        border: none;
    }

    </style>
</head>

<body>
    <button class="r-button" id="checkJsApi">checkJsApi</button>
    <div class="r-button">开始</div>
    <div class="r-button">结束</div>
    <div class="r-button">播放</div>
    <div class="r-button">停止</div>
    <div class="r-button">日你</div>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
    <script type="text/javascript">
    var jqxhr = $.ajax({
        url: 'http://192.168.1.102:3033/api/getWechat',
        type: "GET"
    });
    jqxhr.done(function(r){
        console.log(r);
    });
    jqxhr.fail(function(r){
        console.log(r);
    });
    wx.config({
        debug: false,
        appId: 'wxf8b4f85f3a794e77',
        timestamp: 1512613529,
        nonceStr: 'BwPKOyKAyMnJZav3',
        signature: '3267e1f980fedb4575af6e7500c841e0981eceae',
        jsApiList: [
            'checkJsApi',
            'translateVoice',
            'startRecord',
            'stopRecord',
            'onVoiceRecordEnd',
            'playVoice',
            'onVoicePlayEnd',
            'pauseVoice',
            'stopVoice',
            'uploadVoice',
            'downloadVoice'
        ]
    });
    wx.ready(function() {

        // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。
    });
    wx.error(function(res) {
        // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。

    });

    </script>
</body>

</html>
